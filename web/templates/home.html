{{define "content"}}
{{if .User}}
    <div class="hero">
        <div class="mascot">
            <img src="/static/svg/mascot.svg" alt="Mila the Owl" style="width:120px;height:120px;">
        </div>
        <h1>Welcome back, {{.User.DisplayName}}!</h1>
        <p>Ready to continue learning?</p>
    </div>

    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-value">{{.CompletedLessons}}</div>
            <div class="stat-label">Lessons Completed</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{.TotalLessons}}</div>
            <div class="stat-label">Total Lessons</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{.AvgScore}}%</div>
            <div class="stat-label">Average Score</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{.WordsLearned}}</div>
            <div class="stat-label">Words Learned</div>
        </div>
    </div>

    <h2 style="margin-bottom:1rem;">Continue Learning Serbian</h2>
    <div class="progress-bar-container" style="margin-bottom:1.5rem;">
        <div class="progress-bar" style="width:{{.ProgressPercent}}%"></div>
    </div>

    {{if .NextLesson}}
    <a href="/lessons/serbian/{{.NextLesson.ID}}" class="btn btn-primary btn-lg">
        Continue: {{.NextLesson.Title}}
    </a>
    {{else}}
    <a href="/lessons/serbian" class="btn btn-primary btn-lg">
        View All Lessons
    </a>
    {{end}}
{{else}}
    <div class="hero">
        <div class="mascot">
            <img src="/static/svg/mascot.svg" alt="Mila the Owl" style="width:120px;height:120px;">
        </div>
        <h1>Learn Serbian the Fun Way!</h1>
        <p>Interactive lessons, quizzes, and audio pronunciation to get you speaking Serbian with confidence.</p>
        <div style="margin-top:1.5rem;display:flex;gap:1rem;justify-content:center;">
            <a href="/register" class="btn btn-lg" style="background:white;color:var(--purple);font-weight:700;">Get Started Free</a>
            <a href="/login" class="btn btn-lg btn-outline" style="border-color:white;color:white;">Login</a>
        </div>
    </div>

    <div class="stats-grid" style="margin-top:2rem;">
        <div class="stat-card">
            <div class="stat-value">5</div>
            <div class="stat-label">Engaging Lessons</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">60+</div>
            <div class="stat-label">Words & Phrases</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">4</div>
            <div class="stat-label">Quiz Types</div>
        </div>
    </div>
{{end}}
{{end}}
